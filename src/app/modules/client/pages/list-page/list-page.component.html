<div class="w-full flex justify-content-between mb-4 align-content-center">
  <div>
    <span class="text-2xl font-semibold">Client List</span>
  </div>
  <div>
      <button pButton pRipple label="New" icon="pi pi-plus" class="mr-2" (click)="toggleRegisterModal()"></button>
  </div>
</div>

<p-table
    #dt
    [value]="rows"
    [loading]="loadRows"
    [rows]="10"
    [paginator]="true"
    [rowHover]="true"
    [tableStyle]="{ 'min-width': '50rem' }"
>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="dni">Dni <p-sortIcon field="dni"></p-sortIcon></th>
            <th pSortableColumn="names" style="min-width:10rem">Client <p-sortIcon field="names"></p-sortIcon></th>
            <th pSortableColumn="address" style="max-width:15rem">Address <p-sortIcon field="address"></p-sortIcon></th>
            <th pSortableColumn="district" style="max-width:8rem">Districtt <p-sortIcon field="district"></p-sortIcon></th>
            <th pSortableColumn="province" style="max-width:8rem">Province <p-sortIcon field="province"></p-sortIcon></th>
            <th pSortableColumn="phone" style="max-width:8rem">Phone <p-sortIcon field="phone"></p-sortIcon></th>
            <th pSortableColumn="email_address" style="max-width:8rem">Email Address <p-sortIcon field="email_address"></p-sortIcon></th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-client>
        <tr>
            <td>{{ client.dni }}</td>
            <td>{{ client.names + ' ' + client.lastnames }}</td>
            <td>{{ client.address }}</td>
            <td>{{ client.district }}</td>
            <td>{{ client.province }}</td>
            <td>{{ client.phone }}</td>
            <td>{{ client.email_address }}</td>
            <td>
                <button pButton pRipple icon="pi pi-pencil" class="p-button-warning mr-2" (click)="selectEditClient(client)"></button>
                <button pButton pRipple icon="pi pi-trash" class="p-button-danger" (click)="selectDeleteClient(client)"></button>
            </td>
        </tr>
    </ng-template>
</p-table>

<app-new-page (onHidePage)="toggleRegisterModal()" [visible]="visibleRegisterModal"></app-new-page>
<app-edit-page (onHidePage)="toggleEditModal()" [visible]="visibleEditModal"></app-edit-page>
<app-modal-delete (onConfirm)="deleteClient()" (onCancel)="toggleDeleteModal()" [visible]="visibleDeleteModal"></app-modal-delete> 
